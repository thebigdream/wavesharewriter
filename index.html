<button id="writeButton">Write Tiny Checkerboard</button>
<pre id="log"></pre>

<script>
const log = (msg) => document.querySelector('#log').textContent += msg + '\n';

document.getElementById("writeButton").addEventListener("click", async () => {
  log("User clicked write button");

  // Tiny 8x8 checkerboard pattern (1 byte per row, 1=black, 0=white)
  const tinyCheckerboard = new Uint8Array([
    0xAA, // 10101010
    0x55, // 01010101
    0xAA,
    0x55,
    0xAA,
    0x55,
    0xAA,
    0x55
  ]);

  try {
    const ndef = new NDEFReader();
    await ndef.write({
      records: [
        {
          recordType: "mime",
          mediaType: "application/octet-stream",
          data: tinyCheckerboard
        }
      ]
    });
    log("> Tiny checkerboard written (as MIME record)");
  } catch (error) {
    log("Argh! " + error);
  }
});
</script>
